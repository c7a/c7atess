<!DOCTYPE html>
<html lang="en"  debug="true">
<head>
<meta charset="utf-8">
<title>CIHM OCR Task list</title>
<link rel="stylesheet" type="text/css" href="styles/tasks.css"
    media="screen" />
<script src="scripts/jquery-2.0.3.js"></script>
<script src="scripts/jquery-tmpl.js"></script>
<script src="scripts/jquery.validate.js"></script>
<script src="scripts/jquery-serialization.js"></script>
<!-- script type="text/javascript" src="https://getfirebug.com/firebug-lite.js"></script -->
<script src="scripts/tasks-controller.js"></script>
</head>
<body>
    <header>
        <span>OCR Job Control</span>
    </header>
    <main  id="taskPage">
    <section id="taskCreation" >
        <p>
            Choose a directory in the TDR. An absolute directory IE /collections.new/pool1/aip/oocihm/083, existing on the OCR master server. 
            This is in a filesystem which is a NFS mount of the TDR.
            All images below that will be OCR'd, and the results go to the OCR database. The records created in the 
            database are identified by the image file names, IE oop/727/oop.debates_CDC1905_03/data/sip/data/files/0043.jpg, which is the TDR path for that file.
        </p>
        <p>
            The directory can actually be multiple directories, described as /collections.new/pool1/aip/oocihm/08?
        </p>
        <form id="taskForm" autocomplete="on">
            <div>
                <label>Top Directory of Tree</label> <input type="text" required="required" autocomplete="on"
                    name="taskTree" id="treePath" class="large" placeholder="/repository/aip/oocihm/040/" maxlength="200"  />
            </div>
            <div>
                 OR
            </div>
            <div>
                <label>Collection ID</label> <input type="text" required="required" autocomplete="on"
                    name="taskColl" id="collID" class="large" placeholder="oocihm.lac_reel_h1377" maxlength="200"  />
            </div>
            <nav>
                <a href="#" id="startNewJob" class="greyed" >Start New Job</a>
                <a href="#" id="clearTask">non-functional</a>
            </nav>
        </form>
    </section>
    <section>
        <table id="tblTasks">
            <colgroup>
                <col width="70%">
                <col width="10%">
                <col width="01%">
                <col width="19%">
            </colgroup>
            <thead>
                <tr>
                    <th>Elapsed time, PID, Command Line</th>
                    <th>Progress</th>
                    <th>Category</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
            <div>
                  <p>
                      The most recent log line:
                  </p>
                  <p>
                      <span  id="statusLine">                </span>
                  </p>
             </div>
        <nav>
            <a href="#" id="btnAsk">non-functional button</a>
        </nav>
    </section>
    </main>
    <footer>This is the live OCR system, with no safe 'OK/Cancel' confirmations.</footer>
</body>
<script>
$(document).ready(function() {
    tasksController.init($('#taskPage'));
});
</script>

<script id="taskRow" type="text/x-jQuery-tmpl">
<tr>
    <td>${task}</td>
    <td><time datetime="${requiredBy}"> ${requiredBy}</time></td>
    <td>${category}</td>
    <td>
        <nav>
            <a href="#">Pause</a>
            <a href="#">UnPause</a>
            <a href="#" class="deleteRow">Delete</a>
        </nav>
    </td>
</tr>
</script>

</html>

